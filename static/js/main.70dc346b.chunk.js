(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[0],{34:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(24),s=n.n(a),o=(n(34),n(9)),i=n.n(o),u=n(12),l=n(7),d=n(25),m=n(29).a.initializeApp({apiKey:"AIzaSyDaHvjWQBPbi_8qb-53ZZYw6YlMmog89Ig",authDomain:"superchat-be9ab.firebaseapp.com",projectId:"superchat-be9ab",storageBucket:"superchat-be9ab.appspot.com",messagingSenderId:"547015847672",appId:"1:547015847672:web:427a9f137fe980ba27d50d"}),j=m.firestore(),g=m.auth(),h=n(22),b=n(11),f=n.p+"static/media/blond.9071513f.png",p=n.p+"static/media/green-and-black.d9d39ac6.png",O=n.p+"static/media/mustache.6c401d7b.png",x=n.p+"static/media/summer-hat.c46117c4.png",v=n.p+"static/media/dino-head.35afc71d.png",w=n.p+"static/media/black-hair.68bdd4da.png";function S(){return[{name:"blonde-hair",img:f},{name:"black-hair",img:w},{name:"dino-head",img:v},{name:"summer_hat",img:x},{name:"glasses-and-mustache",img:O},{name:"green-and-black-hair",img:p}]}var _=n(2);var y=function(e){var t=e.icon,n=e.setUserIcon,r=e.userIcon;return Object(_.jsxs)("label",{htmlFor:t.name,children:[Object(_.jsx)("input",{type:"radio",id:t.name,checked:r===t.name,value:t.name,onChange:function(e){return n(e.target.value)}}),Object(_.jsx)("img",{width:"50",height:"50",src:t.img,alt:"".concat(t.name," user icon")})]})};var N=function(e){var t=e.clr,n=e.setUserColor,r=e.userColor;return Object(_.jsxs)("label",{htmlFor:"".concat(t,"-color"),className:"clr-container",children:[Object(_.jsx)("input",{type:"radio",name:"radio",id:"".concat(t,"-color"),checked:r===t,value:t,onChange:function(e){return n(e.target.value)}}),Object(_.jsx)("span",{id:t,className:"checkmark"})]})};var C=function(e){return e.split(" ")[0]};var k=function(e){var t=e.updatingSettings,n=e.userSettingsSet,c=e.userData,a=e.setUserData,s=e.userSettingsOpen,o=e.loadingSpinnerOn,d=e.moveToChatRoom,m=g.currentUser,f=m.uid,p=m.displayName,O=S(),x=Object(r.useState)(t?c.chatName:C(p)),v=Object(l.a)(x,2),w=v[0],k=v[1],U=Object(r.useState)(t?c.themeColor:""),I=Object(l.a)(U,2),A=I[0],D=I[1],F=Object(r.useState)(t?c.chatIcon:""),E=Object(l.a)(F,2),T=E[0],M=E[1];function B(e){e.preventDefault();var n={chatName:void 0===w||""===w?C(p):w,chatIcon:T,themeColor:void 0===A||""===A?"pink":A};t?(o(!0),function(e){return P.apply(this,arguments)}(n).then((function(e){return window.location.reload()}))):function(e,t){return R.apply(this,arguments)}(n,d).then((function(e){return console.log("user settings submitted")}))}function P(){return(P=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.collection("users").doc(f).update(t);case 3:s((function(){return!1})),a((function(e){var n={createdAt:e.createdAt,lastSeen:e.lastSeen,fullName:e.fullName};return Object(h.a)(Object(h.a)({},n),t)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error when updating user settings document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(){return(R=Object(u.a)(i.a.mark((function e(t,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),c={createdAt:b.a.firestore.FieldValue.serverTimestamp(),lastSeen:b.a.firestore.FieldValue.serverTimestamp(),fullName:p,uid:f,chatName:t.chatName,chatIcon:t.chatIcon,themeColor:t.themeColor},e.prev=2,e.next=5,j.collection("users").doc(f).set(c);case 5:a((function(){return c})),r(!0),console.log("Document successfully added to collection!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error when adding user settings document: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(_.jsxs)("div",{className:"pop-up",children:[t?Object(_.jsx)("div",{className:"close_cont",children:Object(_.jsx)("i",{className:"fas fa-times close-settings",onClick:function(){return s((function(){return!1}))}})}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)("h2",{style:{marginTop:t?"initial":"1em"},children:[t?"Update":"Choose your user"," settings"]}),Object(_.jsxs)("form",{onSubmit:function(e){return B(e)},children:[Object(_.jsxs)("div",{className:"settings__cont",children:[Object(_.jsx)("p",{children:"User name"}),Object(_.jsx)("input",{className:"settings__name",type:"text",value:w,onChange:function(e){return k(e.target.value)}})]}),Object(_.jsxs)("div",{className:"settings__cont",children:[Object(_.jsx)("p",{children:"Theme color"}),Object(_.jsxs)("div",{className:"flex",children:[Object(_.jsx)(N,{clr:"yellow",userColor:A,setUserColor:D}),Object(_.jsx)(N,{clr:"blue",userColor:A,setUserColor:D}),Object(_.jsx)(N,{clr:"purple",userColor:A,setUserColor:D}),Object(_.jsx)(N,{clr:"pink",userColor:A,setUserColor:D}),Object(_.jsx)(N,{clr:"green",userColor:A,setUserColor:D})]})]}),Object(_.jsxs)("div",{className:"settings__cont settings__icons",children:[Object(_.jsx)("p",{children:"Chat icon"}),Object(_.jsx)("div",{className:"flex",children:O.map((function(e){return Object(_.jsx)(y,{icon:e,userIcon:T,setUserIcon:M})}))})]}),Object(_.jsx)("button",{className:"btn btn__settings",type:"submit",children:"Save"})]})]})},U=n(16),I=n.n(U);function A(e){for(var t,n=S(),r=0;r<n.length;r++){var c=n[r];c.name===e&&(t=c.img)}return t||w}var D=n.p+"static/media/spinner.07408e1a.svg",F=n(13),E=n(14);var T,M,B,P,R=function(e){switch(e){case"yellow":return"#FFC68A";case"green":return"#4acfac";case"pink":return"#ffa2bb";case"purple":return"#7e8ce0";case"blue":return"#36c7d0";default:return""}},V=E.a.div(T||(T=Object(F.a)(["\n  width: fit-content;\n  max-width: 90%;\n  padding: 0.5em 0.7em;\n  color: #212121;\n  border-radius: ",";\n  background-color: ",";\n"])),(function(e){return"msg__sent"===e.msgClass?"25px 25px 2px 25px":"25px 25px 25px 2px"}),(function(e){return R(e.color)})),W=E.a.div(M||(M=Object(F.a)(["\n  display: flex;\n  align-items: flex-end;\n  flex-direction: ",";\n"])),(function(e){return"msg__sent"===e.msgClass?"row-reverse":"row"})),z=E.a.p(B||(B=Object(F.a)(["\n  font-size: 0.6rem;\n  font-style: italic;\n  margin-left: ",";\n  margin-right: ",";\n  text-align: ",";\n  @media (min-width: 700px) {\n    font-size: 0.8rem;\n  }\n"])),(function(e){return"msg__sent"===e.msgClass?"auto":"3em"}),(function(e){return"msg__sent"===e.msgClass?"3em":"initial"}),(function(e){return"msg__sent"===e.msgClass?"right":"left"})),Y=Object(E.a)(z)(P||(P=Object(F.a)(["\n  font-size: 0.5rem;\n  color: black;\n  letter-spacing: 1px;\n  margin-left: ",";\n  margin-right: ",";\n  @media (min-width: 700px) {\n    font-size: 0.6rem;\n  }\n"])),(function(e){return"msg__sent"===e.msgClass?"auto":"0"}),(function(e){return"msg__sent"===e.msgClass?"0":"initial"}));function L(e){var t=e.message,n=t.text,r=t.uid,c=t.imageUrl,a=t.senderName,s=t.senderIcon,o=t.color,i=t.createdAt,u=r===g.currentUser.uid?"msg__sent":"msg__received",l=function(e){var t=new Date;if(e){var n=new Date(1e3*e.seconds),r=n.getFullYear(),c=n.getMonth(),a=n.getDate(),s=n.getHours(),o=n.getMinutes();return t.getMonth()===c&&t.getDate()===a?(o<10&&(o="0"+o),"".concat(s,":").concat(o)):"".concat(a,"/").concat(c+1,"/").concat(r)}}(i);return i?Object(_.jsxs)("div",{className:"message",children:[Object(_.jsx)(z,{info:"name",msgClass:u,children:"msg__sent"===u?"You":a}),Object(_.jsxs)(W,{msgClass:u,children:[Object(_.jsx)("img",{width:25,height:25,src:A(s),alt:"".concat(s," user icon")}),Object(_.jsxs)(V,{msgClass:u,color:o,children:[c?Object(_.jsx)("img",{className:"msg__img",src:c,alt:"image message"}):Object(_.jsxs)("p",{children:[" ",n]}),Object(_.jsx)(Y,{msgClass:u,children:l})]})]})]}):Object(_.jsx)(_.Fragment,{})}var G=function(e){var t=e.changingMessageSettings,n=Object(r.useRef)(),c=Object(r.useState)([]),a=Object(l.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(!0),u=Object(l.a)(i,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){console.log("messages loaded"),j.collection("messages").orderBy("createdAt").limit(50).onSnapshot((function(e){o(e.docs.map((function(e){return e.data()}))),m(!1)}))}),[]),Object(r.useEffect)((function(){d||n.current.scrollIntoView({behavior:"smooth"})}),[d,s]),Object(r.useEffect)((function(){m(!d)}),[t]),d?Object(_.jsx)("section",{className:"messages__container",children:Object(_.jsx)("img",{width:90,height:90,style:{margin:"2em auto"},src:D,alt:"loading"})}):Object(_.jsxs)("section",{className:"messages__container",children:[s.map((function(e,t){return Object(_.jsx)(L,{message:e},I()())})),Object(_.jsx)("div",{ref:n,style:{padding:"0.5em"}})]})};var H=function(e){var t=e.currentUser;return Object(_.jsxs)("form",{id:"image-form",className:"img-form",action:"#",children:[Object(_.jsx)("label",{htmlFor:"mediaCapture",className:"add-image__label",children:Object(_.jsx)("i",{className:"fas fa-camera add-image__icon"})}),Object(_.jsx)("input",{onChange:function(e){return function(e,t){e.preventDefault();var n=e.target.files[0];if(document.getElementById("image-form").reset(),!n.type.match("image.*"))return;!function(e,t){var n=g.currentUser,r=n.uid,c=n.photoURL;j.collection("messages").add({createdAt:b.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:c,color:t.themeColor,senderName:t.chatName,senderIcon:t.chatIcon,imageUrl:D}).then((function(t){var n=b.a.auth().currentUser.uid+"/"+t.id+"/"+e.name;return b.a.storage().ref(n).put(e).then((function(e){return e.ref.getDownloadURL().then((function(n){return t.update({imageUrl:n,storageUri:e.metadata.fullPath})}))}))})).catch((function(e){return console.error("There was an error uploading a file to Cloud Storage:",e)}))}(n,t)}(e,t)},id:"mediaCapture",type:"file",accept:"image/*",capture:"camera",className:"custom-file-input"})]})};var q,J,Z,K=function(e){var t=e.currentUser,n=Object(r.useState)(""),c=Object(l.a)(n,2),a=c[0],s=c[1];function o(){return(o=Object(u.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=g.currentUser.uid,e.prev=2,s(""),e.next=6,j.collection("messages").add({senderName:t.chatName,senderIcon:t.chatIcon,text:a,createdAt:b.a.firestore.FieldValue.serverTimestamp(),uid:r,color:t.themeColor});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("error happened when adding new message:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(_.jsxs)("section",{className:"form-flex",children:[Object(_.jsx)(H,{currentUser:t}),Object(_.jsxs)("form",{className:"msg-form",onSubmit:function(e){return function(e){return o.apply(this,arguments)}(e)},children:[Object(_.jsx)("input",{type:"text",placeholder:"Send message...",value:a,onChange:function(e){return s(e.target.value)}}),Object(_.jsx)("button",{type:"submit",children:Object(_.jsx)("i",{className:"fas fa-share add-msg__icon"})})]})]})},Q=E.a.main(q||(q=Object(F.a)(["\n  width: 100%;\n  max-height: 97vh;\n  min-height: 95vh;\n  max-width: 700px;\n  display: ",";\n  grid-template-columns: 50px repeat(2, 1fr);\n  grid-template-rows: 60px repeat(3, 1fr) 60px;\n  background-color: #2d2d2d;\n  color: #e7e7e7;\n  border-radius: 20px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0 3px 8px;\n  transition: all 0.3s ease-in-out;\n  @media (min-width: 600px) {\n    grid-template-columns: 200px repeat(2, 1fr);\n    grid-template-rows: 60px repeat(3, 1fr) 80px;\n  }\n"])),(function(e){return e.grid?"grid":"block"})),X=E.a.div(J||(J=Object(F.a)(["\n  width: 100%;\n  max-width: 500px;\n  min-height: 300px;\n  padding: 1em;\n  margin: 0 auto;\n  text-align: center;\n\n  & > header h1 {\n    border-bottom: 2px solid #7e8ce0;\n  }\n\n  & > section {\n    width: 100%;\n    max-width: 400px;\n    margin: 2em auto;\n\n    & > p {\n      font-weight: bolder;\n      letter-spacing: 1px;\n    }\n  }\n"]))),$=E.a.div(Z||(Z=Object(F.a)(["\n  padding: 0.5em;\n  border-radius: 50px;\n  background-color: ",";"])),(function(e){return R(e.color)}));var ee=function(e){var t=e.user,n=e.currentUser;return Object(_.jsxs)("div",{className:"flex online__user",children:[Object(_.jsx)($,{color:t.themeColor}),Object(_.jsx)("p",{children:n?"You":t.chatName})]})};var te=function e(t,n){var r=Object.prototype.toString.call(t);if(r!==Object.prototype.toString.call(n))return!1;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var c="[object Array]"===r?t.length:Object.keys(t).length;if(c!==("[object Array]"===r?n.length:Object.keys(n).length))return!1;function a(t,n){var r=Object.prototype.toString.call(t);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(t,n))return!1}else{if(r!==Object.prototype.toString.call(n))return!1;if("[object Function]"===r){if(t.toString()!==n.toString())return!1}else if(t!==n)return!1}}if("[object Array]"===r){for(var s=0;s<c;s++)if(!1===a(t[s],n[s]))return!1}else for(var o in t)if(t.hasOwnProperty(o)&&!1===a(t[o],n[o]))return!1;return!0};var ne=function(e){if(e.lastSeen)return Number(e.lastSeen.seconds+"."+e.lastSeen.nanoseconds)};function re(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=g.currentUser.uid;return Object(r.useEffect)((function(){var e=setInterval((function(){c((function(e){return e+1}))}),1e5);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.collection("users").doc(a).update({lastSeen:b.a.firestore.FieldValue.serverTimestamp()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error updating document: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){return console.log("")}))}),[n]),Object(_.jsx)(_.Fragment,{})}function ce(e){var t=new Date/1e3;return ne(e)>=t-60}function ae(e){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g.currentUser,r=n.uid,c=n.displayName,e.next=4,j.collection("users").doc(r).set({createdAt:b.a.firestore.FieldValue.serverTimestamp(),lastSeen:b.a.firestore.FieldValue.serverTimestamp(),uid:r,name:c});case 4:t(!0),console.log("Document successfully added to collection!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error when adding new user document: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var oe=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(l.a)(a,2),o=s[0],d=s[1],m=Object(r.useState)(),h=Object(l.a)(m,2),b=h[0],f=h[1],p=Object(r.useState)(!1),O=Object(l.a)(p,2),x=O[0],v=O[1],w=g.currentUser.uid;return Object(r.useEffect)((function(){try{j.collection("users").orderBy("createdAt").limit(100).onSnapshot((function(e){c(e.docs.map((function(e){return e.data()})))}))}catch(e){console.log("error happened when fetching all user data",e)}}),[]),Object(r.useEffect)((function(){var e=function(e){for(var t=g.currentUser.uid,n=[],r=0;r<e.length;r++){var c=e[r];ce(c)&&c.uid!==t&&n.push({themeColor:c.themeColor,chatIcon:c.chatIcon,chatName:c.chatName})}return n}(n);te(e,o)||d((function(){return e}))}),[n]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.collection("users").doc(w).get();case 3:if(!(t=e.sent).exists){e.next=9;break}f(t.data()),v(!0),e.next=11;break;case 9:return e.next=11,ae(v);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error happened when fetching current user document from db",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return function(){return e.apply(this,arguments)}().then((function(e){return console.log("data fetched")})),function(){return console.log("unmounting...")}}),[]),x?Object(_.jsxs)("div",{className:"users__list",children:[Object(_.jsx)("h2",{children:"Chat users "}),Object(_.jsx)(ee,{user:b,currentUser:!0},I()()),o.map((function(e){return Object(_.jsx)(ee,{user:e},I()())})),Object(_.jsx)(re,{})]}):Object(_.jsxs)("div",{className:"users__list",children:[Object(_.jsx)("h2",{children:"Chat users "}),Object(_.jsx)("img",{width:50,height:50,style:{margin:"2em auto"},src:D,alt:"loading spinner"})]})};var ie=function(e){var t=e.logOff,n=e.setUserSettingsOpen,c=window.innerWidth>=600,a=Object(r.useState)(c),s=Object(l.a)(a,2),o=s[0],i=s[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("section",{className:"sidebar",children:[Object(_.jsx)("i",{className:"fas ".concat(o?"fa-times":"fa-bars"," sidebar__toggle"),onClick:function(){return function(e,t){var n=e?50:window.innerWidth>=600?200:150;document.querySelector("main").style.gridTemplateColumns="".concat(n,"px repeat(2, 1fr)"),t((function(e){return!e}))}(o,i)}}),Object(_.jsxs)("div",{className:"sidebar__content ".concat(o?"visible":"hidden"),children:[Object(_.jsx)(oe,{}),Object(_.jsxs)("button",{className:"btn btn__settings",onClick:function(){return n(!0)},children:["Settings ",Object(_.jsx)("i",{className:"fas fa-cog"})]}),Object(_.jsx)("button",{className:"btn btn__sign-out",onClick:function(){return t()},children:"Sign out"})]})]})})};var ue=function(e){var t=e.userData,n=e.logOff,c=Object(r.useState)(t),a=Object(l.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],j=Object(r.useState)(!1),g=Object(l.a)(j,2),h=g[0],b=g[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("header",{className:"chat__header",children:[Object(_.jsxs)("h2",{children:["Hello ",s.chatName,"!"]}),Object(_.jsx)("p",{children:" Welcome to Super chat!"})]}),Object(_.jsx)(ie,{setUserSettingsOpen:m,logOff:n}),Object(_.jsx)(G,{changingMessageSettings:h}),Object(_.jsx)(K,{currentUser:s}),d?Object(_.jsx)(k,{updatingSettings:!0,userData:t,setUserData:o,userSettingsOpen:m,loadingSpinnerOn:b}):Object(_.jsx)(_.Fragment,{})]})};var le=function(){return Object(_.jsx)("img",{width:90,height:90,style:{margin:"2em auto",gridArea:"1/2/2/2"},src:D,alt:"loading"})};function de(){var e=new b.a.auth.GoogleAuthProvider;!function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return!0}()?g.signInWithPopup(e).then((function(){console.log("Opening pop-up to google authentication successful")})).catch((function(e){console.log("Error getting pop up:",e)})):g.signInWithRedirect(e).then((function(){console.log("Redirecting to google authentication successful")})).catch((function(e){console.log("Error redirecting:",e)}))}var me=function(){return Object(_.jsxs)(X,{children:[Object(_.jsx)("header",{children:Object(_.jsx)("h1",{children:"Welcome to Super Chat"})}),Object(_.jsxs)("section",{children:[Object(_.jsx)("p",{children:"So that you can start chatting with other users please sign in:"}),Object(_.jsxs)("div",{onClick:de,className:"google-btn",children:[Object(_.jsx)("div",{className:"google-icon-wrapper",children:Object(_.jsx)("img",{className:"google-icon",alt:"google logo",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"})}),Object(_.jsx)("p",{className:"btn-text",children:Object(_.jsx)("b",{children:"Sign in with google"})})]})]})]})};var je=function(){var e=Object(r.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(l.a)(a,2),o=s[0],m=s[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),f=b[0],p=b[1],O=Object(r.useState)(!1),x=Object(l.a)(O,2),v=x[0],w=x[1],S=Object(d.a)(g),y=Object(l.a)(S,2),N=y[0];function C(){g.signOut().then((function(){return console.log("user has signed off")})),m(!1),p(!1),w(!1)}function U(){return v||f||o||function(){return I.apply(this,arguments)}().then((function(){return console.log("default state"),Object(_.jsx)(le,{})})),v?!f&&o?Object(_.jsx)(le,{}):f&&o?(console.log("second state"),Object(_.jsx)(ue,{logOff:C,userData:n})):Object(_.jsx)(k,{updatingSettings:!1,setUserData:c,userSettingsSet:m,moveToChatRoom:p}):f&&o?Object(_.jsx)(ue,{logOff:C,userData:n}):Object(_.jsx)(le,{})}function I(){return(I=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.currentUser.uid,e.prev=1,e.next=4,j.collection("users").doc(t).get();case 4:(n=e.sent).exists?(console.log("user doc exists",n.data()),c((function(){return n.data()})),m(!0),p(!0)):w(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error when getting user document first time",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return y[1]?Object(_.jsx)(Q,{grid:!0,children:Object(_.jsx)(le,{})}):Object(_.jsx)(Q,{grid:N,children:N?Object(_.jsx)(U,{}):Object(_.jsx)(me,{})})};s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(je,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.70dc346b.chunk.js.map